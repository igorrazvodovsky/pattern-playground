import { Meta, Story } from '@storybook/addon-docs/blocks';
import * as BubbleMenuStories from './BubbleMenu.stories';

<Meta of={BubbleMenuStories} />

# Bubble menu

A contextual menu that appears when users select content, providing relevant actions for the selected text or elements. Enables users to act on specific content without interrupting their reading or editing flow.

## Variants

### Single action

<Story of={BubbleMenuStories.ExplainText} />

### Multiple actions

<Story of={BubbleMenuStories.MultipleActions} />

### Commenting and highlighting

<Story of={BubbleMenuStories.Commenting} />

### Text lense

<Story of={BubbleMenuStories.TextLense} />


### Technical implementation

- Uses `CommentMark` extension to track commented text ranges with `data-comment-id` attributes
- Integrates with Zustand-based state management for local persistence
- Supports overlapping comments and position validation during document edits
- Follows progressive enhancement principles with CSS-only fallback styling

## Related patterns

### Precursors

- [Progressive disclosure](../?path=/docs/patterns-progressive-disclosure--docs)

### Complementary

- [Popover](../?path=/docs/primitives-popover--docs) - underlying positioning mechanism
- [Command menu](../?path=/docs/patterns-command-menu--docs) - alternative access to actions
- Context menu - alternative access to actions

### Follow-ups

- [Block-based editor](../?path=/docs/compositions-blockbasededitor--docs) - uses bubble menu for contextual text actions

### Tangentially related

- [Suggestion](../?path=/docs/patterns-suggestion--docs) - system-recommended actions

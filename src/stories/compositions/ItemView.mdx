import { Meta, Story } from '@storybook/addon-docs/blocks';
import * as ItemViewStories from './ItemView.stories.tsx';
import { Reference } from '../primitives/reference/Reference.stories.tsx';
import { SimpleTable } from '../components/Table.stories.tsx';

<Meta of = { ItemViewStories } />

> ðŸ™‚ **Fun meter: 4/5**. Flexibility in displaying an entity enables a lot of emergent behaviour and contextual adaptation.

# Item view

Single-entity representation within the [view system](../?path=/docs/foundations-view-system--docs).
Both system and user-defined items can be represented in progressively richer forms, enabling fluid navigation between granularities depending on task needs, without losing orientation or recognition.

## User needs

- People need to *recognise* an entity wherever it appears, but they donâ€™t always need all of its details.
- They want to stay in the *flow of their current task*, but sometimes they must shift into deep focus.
- Entities must sometimes act as *links to other places*, and sometimes as *self-sufficient centres of work*.

## Semantic level
Item representation is the combination of semantic level and UI element.

### Reference
- Purpose: identify and link to items
- Data: name, type
- Interaction: navigation

### Summary
- Purpose: quick assessment and comparison without leaving current task
- Data: key attributes, status, recent activity
- Interaction: navigation, actions for common operations

### Detail
- Purpose: inspection of most important information while maintaining context
- Data: relevant details for current task
- Interaction: editing, navigate to full page

### Full
- Purpose: Complete focus on single item
- Data: All data, history, relationships
- Interaction: editing, analysis, management

## UI element
- Inline: within text or structured UI.
- Contextual overlay: popover, hovercard.
- Transient container: modal, drawer, side panel.
- Dedicated view: section, panel, page, workspace, tab.
{/* TODO: Children of inline? */}
{/* - List: Sequential items in feeds or search results */}
{/* - Grid: Card-based layouts for visual browsing */}
{/* - Table: Data-dense views with sortable columns */}
{/* - Canvas: Spatial arrangements with relationships */}
{/* - Text: Inline references within documents */}

## Examples

### Reference as @mention + detail modal

<Story of = { Reference } />

### Reference as tag

TODO:

### Summary as list item {/* TODO: + drawer */}

<Story of = { SimpleTable } />

### Full view

<Story of = { ItemViewStories.Page } />

## Transitions

Item views support fluid navigation through semantic levels:

**Reference â†’ summary:** Hover over inline reference reveals summary in popover
**Summary â†’ detail:** Click table row to expand detail panel or open modal
**Detail â†’ full:** Navigate from modal to dedicated page view
**Full â†’ collection:** Return to parent collection view ([data view](../?path=/docs/compositions-data-view--docs))

These transitions preserve context and maintain recognition of the entity across representations.

## Related patterns

- [View](../?path=/docs/foundations-view-system--docs) - Conceptual framework for need-driven framings
- [Semantic zoom](../?path=/docs/patterns-semantic-zoom--docs) - Density-preserving transitions between granularities
- [Data view](../?path=/docs/compositions-data-view--docs) - Collection-scope counterpart
- [Reference](../?path=/docs/primitives-reference--docs)
- [Progressive disclosure](../?path=/docs/patterns-progressive-disclosure--docs)
- [Dialog](../?path=/docs/components-dialog--docs) & [drawer](../?path=/docs/components-drawer--docs)
{/* - Information scent: Each level provides cues about deeper content */}